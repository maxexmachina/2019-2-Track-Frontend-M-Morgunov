(this["webpackJsonptrack-mail-2019-maxexmachina"]=this["webpackJsonptrack-mail-2019-maxexmachina"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/chaticonph.bdd9aaee.png"},function(e,t,a){},,,,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/pencil.b5bd0851.svg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/doubletick.7319bcfe.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a(52)},,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),s=a(11),l=a(53),i=a(4),o=a(13),m=(a(20),a(16)),h=a.n(m),u=a(24),d=a.n(u);var v=Object(l.e)((function(e){return c.a.createElement("div",{className:"back-button",style:d.a.BackButton,onClick:function(){e.history.push("/2019-2-Track-Frontend-M-Morgunov")}},c.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"},c.a.createElement("path",{d:"M2.117 12l7.527 6.235-.644.765-9-7.521 9-7.479.645.764-7.529 6.236h21.884v1h-21.883z"})))})),g=a(27),f=a.n(g);function p(e){return c.a.createElement("div",{className:"burger-button",style:f.a.BurgerButton},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"})))}var b=a(28),E=a.n(b),w=a(15),y=a.n(w);function O(e){var t=e.name;return c.a.createElement("div",{className:"chat-info-container",style:E.a.ChatInfo},c.a.createElement("div",{className:"chat-icon"},c.a.createElement("img",{className:"icon",alt:"",src:y.a})),c.a.createElement("div",{className:"chat-info"},c.a.createElement("p",{className:"chat-title"},t),c.a.createElement("p",{className:"online-status"},"last seen 15 minutes ago")))}var k=a(29),N=a.n(k);function j(e){return c.a.createElement("div",{className:"search-button",style:N.a.SearchButton},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M21.172 24l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"})))}var C=a(30),M=a.n(C);function B(e){return c.a.createElement("div",{className:"menu-button",styl:M.a.MenuButton},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M12 18c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3z"})))}var x=a(31),S=a.n(x);var D=function(e){return c.a.createElement("div",{className:"tick-button",style:S.a.TickButton},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"})))};function F(e){var t=e.history,a=Object(l.d)().id,n=JSON.parse(window.localStorage.getItem("chats"))[a];return c.a.createElement("div",{className:"chat-header",style:h.a.Header},c.a.createElement(v,{history:t}),c.a.createElement(O,{name:n.name,chatid:a}),c.a.createElement(j,null),c.a.createElement(B,null))}function I(){return c.a.createElement("div",{className:"chat-header",style:h.a.Header},c.a.createElement(p,null),c.a.createElement("div",{className:"chat-list-header"},c.a.createElement("p",{className:"clheader-text"},"Messenger")),c.a.createElement(j,null))}function T(e){var t=e.history;return c.a.createElement("div",{className:"chat-header",style:h.a.Header},c.a.createElement(v,{history:t}),c.a.createElement("div",{className:"chat-list-header"},c.a.createElement("p",{className:"clheader-text"},"Edit profile")),c.a.createElement(D,null))}var z=a(32),J=a(5),A=a(6),P=a(8),K=a(7),V=a(1),U=a(9),H=a(33),W=a.n(H),R=a(34),L=a.n(R),$=a(35),q=a.n($),G=function(e){function t(e){var a;return Object(J.a)(this,t),(a=Object(P.a)(this,Object(K.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(V.a)(a)),a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"handleClick",value:function(e){this.props.onButtonClick(e.target.value)}},{key:"render",value:function(){return c.a.createElement("div",{className:"flButton",style:L.a.FloatButton},c.a.createElement("div",{className:"float",onClick:this.handleClick},c.a.createElement("img",{className:"pencil",src:q.a,alt:""})),c.a.createElement("div",{className:"label-container"},c.a.createElement("div",{className:"label-text"},"Create chat")))}}]),t}(c.a.Component),Q={42:{name:"Jeff",messageBase:[{id:12,userName:"Jeff",content:"Do not forget about the meeting",addedAt:"12:03"}]}};Q[34]={name:"Brock",messageBase:[{id:45,userName:"Brock",content:"Hello there",addedAt:"15:05"}]};var X=Q,Y=a(36),Z=a.n(Y),_=a(37),ee=a.n(_);function te(e){var t=e.chatName,a=e.lastMessage,n=e.lastMessageTime;return c.a.createElement("div",{className:"chat",style:Z.a.ChatInstance},c.a.createElement("div",{className:"chat-icon"},c.a.createElement("img",{className:"icon",src:y.a,alt:""})),c.a.createElement("div",{className:"text-info"},c.a.createElement("p",{className:"chat-name"},t),c.a.createElement("p",{className:"last-message","data-placeholder":"Come start this chat"},a)),c.a.createElement("div",{className:"chat-status"},c.a.createElement("p",{className:"time","data-placeholder":"TBA"},n),c.a.createElement("img",{className:"message-status",src:ee.a,alt:""})))}function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ne=function(e){function t(e){var a;Object(J.a)(this,t),(a=Object(P.a)(this,Object(K.a)(t).call(this,e))).state={},a.state.chats=JSON.parse(window.localStorage.getItem("chats"));var n=a.state.chats;return null==n&&(window.localStorage.setItem("chats",JSON.stringify(X)),n=X),a.createNewChat=a.createNewChat.bind(Object(V.a)(a)),a.handleButtonClick=a.handleButtonClick.bind(Object(V.a)(a)),a.componentDidUpdate=a.componentDidUpdate.bind(Object(V.a)(a)),a.handleChatClick=a.handleChatClick.bind(Object(V.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(V.a)(a)),a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.chats;window.localStorage.setItem("chats",JSON.stringify(e))}},{key:"createNewChat",value:function(e){var t=this.state.chats,a=Math.floor(1e4*Math.random())+1,n=!0;do{Object.keys(t).forEach((function(e){e===a&&(n=!1)})),!1===n&&(a=Math.floor(1e4*Math.random())+1)}while(!1===n);var c={name:e,messageBase:[]};this.setState((function(e){return(t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(z.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.chats))[a]=c,{chats:t}}))}},{key:"handleChatClick",value:function(e){this.props.history.push("".concat("/2019-2-Track-Frontend-M-Morgunov","/").concat(e))}},{key:"handleButtonClick",value:function(){var e=window.prompt("Who do you want to chat with?");""!==e&&null!=e&&this.createNewChat(e)}},{key:"handleKeyDown",value:function(e){if("Enter"===e.key){var t=e.target.getAttribute("id");this.props.history.push("".concat("/2019-2-Track-Frontend-M-Morgunov","/").concat(t))}}},{key:"render",value:function(){var e=this,t=this.state.chats;return c.a.createElement("div",{className:"list",style:W.a.ChatLIst},Object.keys(t).map((function(a){var n=t[a],r=n.messageBase[n.messageBase.length-1];return void 0===r?c.a.createElement("div",{key:a,onClick:function(){return e.handleChatClick(a)},onKeyDown:e.handleKeyDown,role:"link",tabIndex:0,id:a},c.a.createElement(te,{chatName:n.name,lastMessage:"",lastMessageTime:"",chatid:a})):c.a.createElement("div",{key:a,onClick:function(){return e.handleChatClick(a)},onKeyDown:e.handleKeyDown,role:"link",tabIndex:0,id:a},c.a.createElement(te,{chatName:n.name,lastMessage:r.content,lastMessageTime:r.addedAt}))})),c.a.createElement(G,{onButtonClick:this.handleButtonClick}))}}]),t}(c.a.Component),ce=Object(l.e)(ne),re=a(38),se=a.n(re),le=a(39),ie=a.n(le);function oe(e){var t=e.content,a=e.addedAt;return c.a.createElement("div",{className:"message-line",style:ie.a.Message},c.a.createElement("div",{className:"message-container"},c.a.createElement("p",{className:"message"},t),c.a.createElement("p",{className:"time"},a)))}function me(e){var t=e.messageBase;return c.a.createElement("div",{className:"space",style:se.a.MessageSpace},t.slice(0).reverse().map((function(e){return c.a.createElement(oe,{key:e.id,content:e.content,addedAt:e.addedAt})})))}var he=a(40),ue=a.n(he),de=function(e){function t(e){var a;return Object(J.a)(this,t),(a=Object(P.a)(this,Object(K.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(V.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(V.a)(a)),a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"handleChange",value:function(e){(0,this.props.onFormChange)(e.target.value)}},{key:"handleSubmit",value:function(e){(0,this.props.onMessageSubmit)(e.target.value),e.preventDefault()}},{key:"render",value:function(){var e=this.props.formValue;return c.a.createElement("form",{className:"container",onSubmit:this.handleSubmit,style:ue.a.MessageForm},c.a.createElement("input",{type:"text",value:e,onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),c.a.createElement("div",{className:"attachmentButton"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M21.586 10.461l-10.05 10.075c-1.95 1.949-5.122 1.949-7.071 0s-1.95-5.122 0-7.072l10.628-10.585c1.17-1.17 3.073-1.17 4.243 0 1.169 1.17 1.17 3.072 0 4.242l-8.507 8.464c-.39.39-1.024.39-1.414 0s-.39-1.024 0-1.414l7.093-7.05-1.415-1.414-7.093 7.049c-1.172 1.172-1.171 3.073 0 4.244s3.071 1.171 4.242 0l8.507-8.464c.977-.977 1.464-2.256 1.464-3.536 0-2.769-2.246-4.999-5-4.999-1.28 0-2.559.488-3.536 1.465l-10.627 10.583c-1.366 1.368-2.05 3.159-2.05 4.951 0 3.863 3.13 7 7 7 1.792 0 3.583-.684 4.95-2.05l10.05-10.075-1.414-1.414z"}))))}}]),t}(c.a.Component);function ve(){var e=Object(s.a)(["\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\tmargin: 0;\n"]);return ve=function(){return e},e}var ge=o.a.div(ve());function fe(e){var t=Object(l.d)().id;return c.a.createElement(pe,{chatid:parseInt(t,10)})}var pe=function(e){function t(e){var a;Object(J.a)(this,t);var n=(a=Object(P.a)(this,Object(K.a)(t).call(this,e))).props.chatid;return a.state={},a.chats=JSON.parse(window.localStorage.getItem("chats")),a.state.messageBase=a.chats[n].messageBase,a.name=a.chats[n].name,a.state.formValue="",a.handleMessageSubmit=a.handleMessageSubmit.bind(Object(V.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(V.a)(a)),a.componentDidUpdate=a.componentDidUpdate.bind(Object(V.a)(a)),a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.chatid,t=this.state.messageBase;this.chats[e].messageBase=t,window.localStorage.setItem("chats",JSON.stringify(this.chats))}},{key:"handleMessageSubmit",value:function(e){var t=this.state,a=t.messageBase,n=t.formValue;if(n.replace(/\s/g,"").length){var c=new Date,r="".concat(c.getHours(),":").concat(c.getMinutes()),s=c.getMilliseconds();this.setState({messageBase:a.concat({id:s,content:n,addedAt:r}),formValue:""})}}},{key:"handleFormChange",value:function(e){this.setState({formValue:e})}},{key:"render",value:function(){var e=this.state,t=e.messageBase,a=e.formValue;return c.a.createElement(ge,null,c.a.createElement(me,{onMessageSubmit:this.handleMessageSubmit,messageBase:t}),c.a.createElement(de,{onMessageSubmit:this.handleMessageSubmit,onFormChange:this.handleFormChange,formValue:a}))}}]),t}(c.a.Component);function be(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n"]);return be=function(){return e},e}function Ee(){var e=Object(s.a)(["\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0;\n"]);return Ee=function(){return e},e}var we=o.a.div(Ee()),ye=o.a.div(be()),Oe=Object(i.a)();var ke=function(){return c.a.createElement(l.b,{basename:"/2019-2-Track-Frontend-M-Morgunov",history:Oe},c.a.createElement(we,null,c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/2019-2-Track-Frontend-M-Morgunov",render:function(){return c.a.createElement("div",null,c.a.createElement(I,{history:Oe}),c.a.createElement(ce,{history:Oe}))}}),c.a.createElement(l.a,{exact:!0,path:"".concat("/2019-2-Track-Frontend-M-Morgunov","/:id"),render:function(){return c.a.createElement(ye,null,c.a.createElement(F,{history:Oe}),c.a.createElement(fe,null))}}),c.a.createElement(l.a,{path:"".concat("/2019-2-Track-Frontend-M-Morgunov","/profile"),render:function(){return c.a.createElement(T,{history:Oe})}}))))};a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(r.render)(c.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[41,1,2]]]);
//# sourceMappingURL=main.66f163ad.chunk.js.map